From 68a6e1283416bbb5f67cd493aa371f9c8f169489 Mon Sep 17 00:00:00 2001
From: Garrett Brown <garrett.brown@aclima.io>
Date: Thu, 11 Aug 2022 07:43:16 -0700
Subject: [PATCH] Remove boost-python dependency

---
 cv_bridge/CMakeLists.txt     |  2 +-
 cv_bridge/src/CMakeLists.txt | 19 -------------------
 2 files changed, 1 insertion(+), 20 deletions(-)

diff --git a/cv_bridge/CMakeLists.txt b/cv_bridge/CMakeLists.txt
index c909dd1..71e06a0 100644
--- a/cv_bridge/CMakeLists.txt
+++ b/cv_bridge/CMakeLists.txt
@@ -12,7 +12,7 @@ if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
   add_compile_options(-Wall -Wextra)
 endif()
 
-if(ANDROID)
+if(TRUE)
   find_package(Boost REQUIRED)
   set(boost_python_target "")
 else()
diff --git a/cv_bridge/src/CMakeLists.txt b/cv_bridge/src/CMakeLists.txt
index a28fec3..e5afd11 100644
--- a/cv_bridge/src/CMakeLists.txt
+++ b/cv_bridge/src/CMakeLists.txt
@@ -24,22 +24,3 @@ install(TARGETS ${PROJECT_NAME} EXPORT export_${PROJECT_NAME}
 install(FILES
   ${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}/${PROJECT_NAME}_export.h
   DESTINATION include/${PROJECT_NAME}/${PROJECT_NAME})
-
-if(NOT ANDROID)
-  Python3_add_library(${PROJECT_NAME}_boost MODULE module.cpp module_opencv3.cpp)
-  target_link_libraries(${PROJECT_NAME}_boost PRIVATE
-    ${PROJECT_NAME}
-    ${boost_python_target}
-    Python3::NumPy)
-  target_compile_definitions(${PROJECT_NAME}_boost PRIVATE PYTHON3)
-
-  if(OpenCV_VERSION_MAJOR VERSION_EQUAL 4)
-    target_compile_definitions(${PROJECT_NAME}_boost PRIVATE OPENCV_VERSION_4)
-  endif()
-
-  set_target_properties(${PROJECT_NAME}_boost PROPERTIES
-                        LIBRARY_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/boost/
-                        PREFIX ""
-  )
-  install(TARGETS ${PROJECT_NAME}_boost DESTINATION ${PYTHON_INSTALL_DIR}/${PROJECT_NAME}/boost/)
-endif()
-- 
2.34.1

