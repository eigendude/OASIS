From 6b834bebd20982ab8afcf6976bbdfa96586d44d3 Mon Sep 17 00:00:00 2001
From: Garrett Brown <garrett.brown@aclima.earth>
Date: Fri, 17 Oct 2025 20:44:14 -0700
Subject: [PATCH 5/7] Fix hard-coded paths to Thirdparty directory

---
 CMakeLists.txt             |  2 ++
 include/Converter.h        |  8 ++++----
 include/Frame.h            |  6 +++---
 include/G2oTypes.h         | 10 +++++-----
 include/KeyFrame.h         |  4 ++--
 include/LoopClosing.h      |  2 +-
 include/ORBVocabulary.h    |  4 ++--
 include/OptimizableTypes.h |  2 +-
 include/Optimizer.h        | 18 +++++++++---------
 src/KeyFrameDatabase.cc    |  2 +-
 src/ORBmatcher.cc          |  2 +-
 src/Optimizer.cc           | 16 ++++++++--------
 12 files changed, 39 insertions(+), 37 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b998f34..91836f9 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -46,6 +46,8 @@ include_directories(
 ${PROJECT_SOURCE_DIR}
 ${PROJECT_SOURCE_DIR}/include
 ${PROJECT_SOURCE_DIR}/include/CameraModels
+${PROJECT_SOURCE_DIR}/Thirdparty/DBoW2
+${PROJECT_SOURCE_DIR}/Thirdparty/g2o
 ${PROJECT_SOURCE_DIR}/Thirdparty/Sophus
 ${EIGEN3_INCLUDE_DIR}
 ${Pangolin_INCLUDE_DIRS}
diff --git a/include/Converter.h b/include/Converter.h
index 30b051e..16a4ad6 100644
--- a/include/Converter.h
+++ b/include/Converter.h
@@ -23,11 +23,11 @@
 #include<opencv2/core/core.hpp>
 
 #include<Eigen/Dense>
-#include"Thirdparty/g2o/g2o/types/types_six_dof_expmap.h"
-#include"Thirdparty/g2o/g2o/types/types_seven_dof_expmap.h"
+#include"g2o/types/types_six_dof_expmap.h"
+#include"g2o/types/types_seven_dof_expmap.h"
 
-#include "Thirdparty/Sophus/sophus/geometry.hpp"
-#include "Thirdparty/Sophus/sophus/sim3.hpp"
+#include "sophus/geometry.hpp"
+#include "sophus/sim3.hpp"
 
 namespace ORB_SLAM3
 {
diff --git a/include/Frame.h b/include/Frame.h
index 572073f..d143a74 100644
--- a/include/Frame.h
+++ b/include/Frame.h
@@ -22,10 +22,10 @@
 
 #include<vector>
 
-#include "Thirdparty/DBoW2/DBoW2/BowVector.h"
-#include "Thirdparty/DBoW2/DBoW2/FeatureVector.h"
+#include "DBoW2/BowVector.h"
+#include "DBoW2/FeatureVector.h"
 
-#include "Thirdparty/Sophus/sophus/geometry.hpp"
+#include "sophus/geometry.hpp"
 
 #include "ImuTypes.h"
 #include "ORBVocabulary.h"
diff --git a/include/G2oTypes.h b/include/G2oTypes.h
index c6543f2..30ac598 100644
--- a/include/G2oTypes.h
+++ b/include/G2oTypes.h
@@ -19,11 +19,11 @@
 #ifndef G2OTYPES_H
 #define G2OTYPES_H
 
-#include "Thirdparty/g2o/g2o/core/base_vertex.h"
-#include "Thirdparty/g2o/g2o/core/base_binary_edge.h"
-#include "Thirdparty/g2o/g2o/types/types_sba.h"
-#include "Thirdparty/g2o/g2o/core/base_multi_edge.h"
-#include "Thirdparty/g2o/g2o/core/base_unary_edge.h"
+#include "g2o/core/base_vertex.h"
+#include "g2o/core/base_binary_edge.h"
+#include "g2o/types/types_sba.h"
+#include "g2o/core/base_multi_edge.h"
+#include "g2o/core/base_unary_edge.h"
 
 #include<opencv2/core/core.hpp>
 
diff --git a/include/KeyFrame.h b/include/KeyFrame.h
index 1b8d1c4..cd21aeb 100644
--- a/include/KeyFrame.h
+++ b/include/KeyFrame.h
@@ -21,8 +21,8 @@
 #define KEYFRAME_H
 
 #include "MapPoint.h"
-#include "Thirdparty/DBoW2/DBoW2/BowVector.h"
-#include "Thirdparty/DBoW2/DBoW2/FeatureVector.h"
+#include "DBoW2/BowVector.h"
+#include "DBoW2/FeatureVector.h"
 #include "ORBVocabulary.h"
 #include "ORBextractor.h"
 #include "Frame.h"
diff --git a/include/LoopClosing.h b/include/LoopClosing.h
index c9ccb26..68f3cb5 100644
--- a/include/LoopClosing.h
+++ b/include/LoopClosing.h
@@ -31,7 +31,7 @@
 #include <boost/algorithm/string.hpp>
 #include <thread>
 #include <mutex>
-#include "Thirdparty/g2o/g2o/types/types_seven_dof_expmap.h"
+#include "g2o/types/types_seven_dof_expmap.h"
 
 namespace ORB_SLAM3
 {
diff --git a/include/ORBVocabulary.h b/include/ORBVocabulary.h
index 71628b8..4c1ce63 100644
--- a/include/ORBVocabulary.h
+++ b/include/ORBVocabulary.h
@@ -20,8 +20,8 @@
 #ifndef ORBVOCABULARY_H
 #define ORBVOCABULARY_H
 
-#include"Thirdparty/DBoW2/DBoW2/FORB.h"
-#include"Thirdparty/DBoW2/DBoW2/TemplatedVocabulary.h"
+#include"DBoW2/FORB.h"
+#include"DBoW2/TemplatedVocabulary.h"
 
 namespace ORB_SLAM3
 {
diff --git a/include/OptimizableTypes.h b/include/OptimizableTypes.h
index dbadb5b..e5dc43d 100644
--- a/include/OptimizableTypes.h
+++ b/include/OptimizableTypes.h
@@ -19,7 +19,7 @@
 #ifndef ORB_SLAM3_OPTIMIZABLETYPES_H
 #define ORB_SLAM3_OPTIMIZABLETYPES_H
 
-#include "Thirdparty/g2o/g2o/core/base_unary_edge.h"
+#include "g2o/core/base_unary_edge.h"
 #include <Thirdparty/g2o/g2o/types/types_six_dof_expmap.h>
 #include <Thirdparty/g2o/g2o/types/sim3.h>
 
diff --git a/include/Optimizer.h b/include/Optimizer.h
index 5013f9b..bb1de51 100644
--- a/include/Optimizer.h
+++ b/include/Optimizer.h
@@ -28,15 +28,15 @@
 
 #include <math.h>
 
-#include "Thirdparty/g2o/g2o/types/types_seven_dof_expmap.h"
-#include "Thirdparty/g2o/g2o/core/sparse_block_matrix.h"
-#include "Thirdparty/g2o/g2o/core/block_solver.h"
-#include "Thirdparty/g2o/g2o/core/optimization_algorithm_levenberg.h"
-#include "Thirdparty/g2o/g2o/core/optimization_algorithm_gauss_newton.h"
-#include "Thirdparty/g2o/g2o/solvers/linear_solver_eigen.h"
-#include "Thirdparty/g2o/g2o/types/types_six_dof_expmap.h"
-#include "Thirdparty/g2o/g2o/core/robust_kernel_impl.h"
-#include "Thirdparty/g2o/g2o/solvers/linear_solver_dense.h"
+#include "g2o/types/types_seven_dof_expmap.h"
+#include "g2o/core/sparse_block_matrix.h"
+#include "g2o/core/block_solver.h"
+#include "g2o/core/optimization_algorithm_levenberg.h"
+#include "g2o/core/optimization_algorithm_gauss_newton.h"
+#include "g2o/solvers/linear_solver_eigen.h"
+#include "g2o/types/types_six_dof_expmap.h"
+#include "g2o/core/robust_kernel_impl.h"
+#include "g2o/solvers/linear_solver_dense.h"
 
 namespace ORB_SLAM3
 {
diff --git a/src/KeyFrameDatabase.cc b/src/KeyFrameDatabase.cc
index 13b4da6..ac324ce 100644
--- a/src/KeyFrameDatabase.cc
+++ b/src/KeyFrameDatabase.cc
@@ -20,7 +20,7 @@
 #include "KeyFrameDatabase.h"
 
 #include "KeyFrame.h"
-#include "Thirdparty/DBoW2/DBoW2/BowVector.h"
+#include "DBoW2/BowVector.h"
 
 #include<mutex>
 
diff --git a/src/ORBmatcher.cc b/src/ORBmatcher.cc
index 9129683..d69d5a7 100644
--- a/src/ORBmatcher.cc
+++ b/src/ORBmatcher.cc
@@ -23,7 +23,7 @@
 
 #include<opencv2/core/core.hpp>
 
-#include "Thirdparty/DBoW2/DBoW2/FeatureVector.h"
+#include "DBoW2/FeatureVector.h"
 
 #include<stdint-gcc.h>
 
diff --git a/src/Optimizer.cc b/src/Optimizer.cc
index b785be3..6cef3a9 100644
--- a/src/Optimizer.cc
+++ b/src/Optimizer.cc
@@ -26,14 +26,14 @@
 #include <Eigen/Dense>
 #include <unsupported/Eigen/MatrixFunctions>
 
-#include "Thirdparty/g2o/g2o/core/sparse_block_matrix.h"
-#include "Thirdparty/g2o/g2o/core/block_solver.h"
-#include "Thirdparty/g2o/g2o/core/optimization_algorithm_levenberg.h"
-#include "Thirdparty/g2o/g2o/core/optimization_algorithm_gauss_newton.h"
-#include "Thirdparty/g2o/g2o/solvers/linear_solver_eigen.h"
-#include "Thirdparty/g2o/g2o/types/types_six_dof_expmap.h"
-#include "Thirdparty/g2o/g2o/core/robust_kernel_impl.h"
-#include "Thirdparty/g2o/g2o/solvers/linear_solver_dense.h"
+#include "g2o/core/sparse_block_matrix.h"
+#include "g2o/core/block_solver.h"
+#include "g2o/core/optimization_algorithm_levenberg.h"
+#include "g2o/core/optimization_algorithm_gauss_newton.h"
+#include "g2o/solvers/linear_solver_eigen.h"
+#include "g2o/types/types_six_dof_expmap.h"
+#include "g2o/core/robust_kernel_impl.h"
+#include "g2o/solvers/linear_solver_dense.h"
 #include "G2oTypes.h"
 #include "Converter.h"
 
-- 
2.43.0

